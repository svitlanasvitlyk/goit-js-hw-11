{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function getPhotos(searchParams) {\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport default getPhotos;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightboxInstance = null;\n\nexport function displayPhotos(photos) {\n  const photoList = document.querySelector('.photo-list');\n  photoList.innerHTML = '';\n\n  const photoMarkup = photos\n    .map(photo => {\n      return `\n      <li class=\"photo-item\">\n        <a href=\"${photo.largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" width=\"360\" height=\"152\" />\n        </a>\n        <div class=\"info\">\n          <div class=\"info-item\">\n            <p>Likes</p>\n            <p>${photo.likes}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Views</p>\n            <p>${photo.views}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Comments</p>\n            <p>${photo.comments}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Downloads</p>\n            <p>${photo.downloads}</p>\n          </div>\n        </div>\n      </li>`;\n    })\n    .join('');\n\n  photoList.insertAdjacentHTML('beforeend', photoMarkup);\n\n  if (!lightboxInstance) {\n    lightboxInstance = new SimpleLightbox('.gallery-item', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightboxInstance.refresh();\n  }\n}\n","import getPhotos from './js/pixabay-api.js';\n\nimport { displayPhotos } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.form');\nconst searchBox = document.querySelector('.search-input');\nconst loadingSpinner = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = searchBox.value;\n  const photoList = document.querySelector('.photo-list');\n  loadingSpinner.style.display = 'block';\n\n  const params = new URLSearchParams({\n    key: '47040880-6387dd83a064ed0d7a9fde087',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n\n  getPhotos(params)\n    .then(data => {\n      loadingSpinner.style.display = 'none';\n      searchBox.value = '';\n      if (data.hits.length === 0) {\n        photoList.innerHTML = '';\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, no images found for your search. Try again!',\n        });\n      } else {\n        displayPhotos(data.hits);\n      }\n    })\n    .catch(error => {\n      loadingSpinner.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: `Something went wrong. Error: ${error.message}`,\n      });\n    });\n});\n\niziToast.settings({\n  timeout: 10000,\n  position: 'topRight',\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  onOpening: function () {},\n  onClosing: function () {},\n});\n"],"names":["getPhotos","searchParams","url","response","lightboxInstance","displayPhotos","photos","photoList","photoMarkup","photo","SimpleLightbox","searchForm","searchBox","loadingSpinner","e","query","params","data","iziToast","error"],"mappings":"6vBAAA,SAASA,EAAUC,EAAc,CAC/B,MAAMC,EAAM,4BAA4BD,CAAY,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCNA,IAAIC,EAAmB,KAEhB,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAY,SAAS,cAAc,aAAa,EACtDA,EAAU,UAAY,GAEtB,MAAMC,EAAcF,EACjB,IAAIG,GACI;AAAA;AAAA,mBAEMA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAK3CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAI3B,EACA,KAAK,EAAE,EAEVF,EAAU,mBAAmB,YAAaC,CAAW,EAEhDJ,EAMHA,EAAiB,QAAO,EALxBA,EAAmB,IAAIM,EAAe,gBAAiB,CACrD,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CC1CA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAiB,SAAS,cAAc,SAAS,EAEvDF,EAAW,iBAAiB,SAAUG,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAQH,EAAU,MAClBL,EAAY,SAAS,cAAc,aAAa,EACtDM,EAAe,MAAM,QAAU,QAE/B,MAAMG,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,CAAG,EAEDf,EAAUgB,CAAM,EACb,KAAKC,GAAQ,CACZJ,EAAe,MAAM,QAAU,OAC/BD,EAAU,MAAQ,GACdK,EAAK,KAAK,SAAW,GACvBV,EAAU,UAAY,GACtBW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oDACnB,CAAS,GAEDb,EAAcY,EAAK,IAAI,CAE/B,CAAK,EACA,MAAME,GAAS,CACdN,EAAe,MAAM,QAAU,OAC/BK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCAAgCC,EAAM,OAAO,EAC9D,CAAO,CACP,CAAK,CACL,CAAC,EAEDD,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,WACV,aAAc,GACd,KAAM,iBACN,aAAc,UACd,cAAe,WACf,UAAW,UAAY,CAAE,EACzB,UAAW,UAAY,CAAE,CAC3B,CAAC"}